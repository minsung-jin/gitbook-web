# Introduction

* 리눅스(Linux)는 멀티유저(다중사용자) 운영체제이기 때문에 많은 사람들이 한 컴퓨터를 사용할 수 있다. 리눅스에서 사용자를 추가하고 삭제하는 방법을 살펴본다.

## useradd 명령어로 리눅스 사용자 추가하기

* 리눅스에서는 useradd, adduser 명령으로 사용자(유저)를 추가할 수 있습니다. adduser를 사용하면 좀 더 쉽게 사용자를 추가할 수 있지만, 리눅스 관리에 익숙하고 깔끔한 명령어 방식을 선호하는 사람은 useradd를 아직도 많이 씁니다. (root 권한이 있는 유저만 사용자 계정을 만들고 삭제할 수 있습니다.)

### 사용자 만들기

* `sudo useradd -m user01`
    * useradd 명령의 -m 옵션을 사용하면 사용자의 홈 디렉토리도 함께 만듭니다.
        * -g 그룹 지정
        * -d 디렉토리 지정
        * -s 쉘(shell) 지정
        * -p 패스워드(암호) 지정

### 비밀번호 설정하기

* `sudo passwd user01`
    * 사용자 생성 후 비밀번호를 꼭 만들어야 합니다.
    * chage 명령어를 사용하면 사용자 비밀번호 만기일을 변경할 수 있습니다.

### 생성된 사용자(유저) 확인

* `tail -n 3 /etc/passwd`
    * 파일의 밑에 있는 내용을 확인하기 위해 tail 명령어를 사용했습니다.
    * 만들어진 사용자 정보는 `/etc/passwd` 사용자 파일에서 확인할 수 있습니다.
    * 사용자이름:암호:사용자ID:그룹ID:추가정보:홈디렉토리:쉘
        * 참고로 그룹파일은 `/etc/group`, 비밀번호파일은 `/etc/shadow`

* `ls /home/`
    * 사용자의 홈 디렉토리가 만들어진 것을 확인합니다.
    * 콘솔이나 터미널에서 사용자를 변경하기 위해서는 su명령을 사용합니다.

* 사용자 변경
    * `su user01`
        * 사용자를 변경한다고 해서 디렉토리까지 변경되는 것은 아닙니다.
        * 이전 사용자로 돌아가기 위해서는 exit를 입력합니다.

## adduser 명령어로 리눅스 사용자 추가하기

* adduser 명령을 사용하면 좀 더 쉽게 사용자를 생성할 수 있습니다.

### 사용자 계정 만들기

* `sudo adduser user02`
    * 비밀번호 설정, 홈 디렉토리 생성 등을 알아서 해줍니다.
    * 홈디렉토리 생성시 복사하는 파일은 /etc/skel 디렉토리에 위치합니다.
    * 입력하기 귀찮은 내용은 그냥 엔터를 쳐서 기본값(default)으로 설정합니다.
    * 사용자 정보는 usermod 명령어로 나중에 언제든지 변경할 수 있습니다.

## userdel 명령으로 사용자 계정 삭제하기

* 리눅스 userdel 명령으로 사용자 계정을 삭제할 수 있습니다.

### 사용자 계정 삭제

* `sudo userdel -r user01`
    * 홈 디렉토리 등 유저와 관련된 모든 내용을 삭제하기 위해 userdel 명령어 -r 옵션을 사용합니다.
    * 참고로 deluser 명령어도 있습니다.
